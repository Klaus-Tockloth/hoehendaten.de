<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API - SlopeRequest</title>
  <meta name="description" content=
  "API-Dokumentation für den 'SlopeRequest'. Erzeugt Hangneigungsdaten für einen Kartenausschnitt im PNG- oder GeoTIFF-Format basierend auf Lon/Lat oder UTM.">
  <meta name="keywords" content=
  "Höhendaten, API, SlopeRequest, Hangneigung, PNG, GeoTIFF, Lon/Lat, UTM, Programmierschnittstelle, GradientAlgorithm, Horn, ZevenbergenThorne">
  <meta name="robots" content="index, follow">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <nav>
    <ul>
      <li>
        <a href="index.html">Start</a>
      </li>

      <li>
        <a href="karte.html">Karte</a>
      </li>

      <li class="dropdown">
        <a href="javascript:void(0);" class="dropbtn">Abbildungen ›</a>
        <ul class="dropdown-content">
          <li>
            <a href="abbildung-allgemein.html">Allgemein</a>
          </li>

          <li>
            <a href="abbildung-hoehenschichtlinien.html">Höhenschichtlinien</a>
          </li>

          <li>
            <a href="abbildung-schummerung.html">Schummerung</a>
          </li>

          <li>
            <a href="abbildung-kolorierung.html">Kolorierung</a>
          </li>

          <li>
            <a href="abbildung-hangneigung.html">Hangneigung</a>
          </li>

          <li>
            <a href="abbildung-hangexposition.html">Hangexposition</a>
          </li>
          <!--
          <li>
            <a href="abbildung-tpi.html">TPI - Topographic Position Index</a>
          </li>
          <li>
            <a href="abbildung-tri.html">TRI - Topographic Ruggedness Index</a>
          </li>
          <li>
            <a href="abbildung-ri.html">RI - Roughness Index</a>
          </li>
           -->
        </ul>
      </li>

      <li>
        <a href="dud.html">DuD</a>
      </li>

      <li class="dropdown">
        <a href="javascript:void(0);" class="dropbtn">Dienste ›</a>
        <ul class="dropdown-content">
          <li>
            <a href="dienst-punkt.html">Punkt Lon / Lat</a>
          </li>

          <li>
            <a href="dienst-punkt_utm.html">Punkt UTM</a>
          </li>

          <li>
            <a href="dienst-gpx.html">GPX-Datei</a>
          </li>

          <li>
            <a href="dienst-gpx-analyse.html">GPX-Analyse</a>
          </li>

          <li>
            <a href="dienst-hoehenschichtlinien.html">Höhenschichtlinien</a>
          </li>

          <li>
            <a href="dienst-schummerung.html">Schummerung</a>
          </li>

          <li>
            <a href="dienst-kolorierung.html">Kolorierung</a>
          </li>

          <li>
            <a href="dienst-hangneigung.html">Hangneigung</a>
          </li>

          <li>
            <a href="dienst-hangexposition.html">Hangexposition</a>
          </li>
        </ul>
      </li>

      <li class="dropdown">
        <a href="javascript:void(0);" class="dropbtn">API ›</a>
        <ul class="dropdown-content">
          <li>
            <a href="api-allgemein.html">Allgemein</a>
          </li>

          <li>
            <a href="api-pointrequest.html">PointRequest</a>
          </li>

          <li>
            <a href="api-utmpointrequest.html">UTMPointRequest</a>
          </li>

          <li>
            <a href="api-gpxrequest.html">GPXRequest</a>
          </li>

          <li>
            <a href="api-gpxanalyzerequest.html">GPXAnalyseRequest</a>
          </li>

          <li>
            <a href="api-contoursrequest.html">ContoursRequest</a>
          </li>

          <li>
            <a href="api-hillshaderequest.html">HillshadeRequest</a>
          </li>

          <li>
            <a href="api-sloperequest.html">SlopeRequest</a>
          </li>

          <li>
            <a href="api-aspectrequest.html">AspectRequest</a>
          </li>
        </ul>
      </li>

      <li>
        <a href="impressum.html">Impressum</a>
      </li>
    </ul>
  </nav>

  <div class="container">
    <h2>Application Programming Interface (API)</h2>

    <hr>

    <h3 class="request">API-Attribute 'SlopeRequest'</h3>

    <p>Der API-Aufruf 'SlopeRequest' generiert eine kolorierten Hangneigungsabbildung (slope) für einen Kartenausschnitt von 1x1 km. Der Kartenausschnitt wird
    durch einen beliebigen Referenzpunkt bestimmt. Der Referenzpunkt kann in den Koordinatensystemen Longitude/Latitude oder UTM angegeben werden. Die Antwort
    enthält die kolorierten Hangneigungsabbildung im GeoTIFF- oder PNG-Format (Base64-kodiert), sowie Metadaten zur Quelle und Attributierung.</p>

    <p>Die Hangneigung kann mit verschiedenen Algorithmen berechnet werden. Es ist eine Farbtextdatei für die Kolorierung zu übergeben. Die Antwort kann Daten für
    eine, zwei oder drei Kacheln enthalten, falls eine Landesgrenze den Bereich schneidet.</p>

    <div class="table-responsive">
      <table>
        <tr>
          <th>Attribut</th>
          <th>Subattribut</th>
          <th>Datentyp</th>
          <th>Beschreibung</th>
        </tr>

        <tr>
          <td>Type</td>
          <td>
          </td>
          <td>string</td>
          <td>Typ der Anfrage (SlopeRequest)</td>
        </tr>

        <tr>
          <td>ID</td>
          <td>
          </td>
          <td>string</td>
          <td>Eindeutige ID der Anfrage</td>
        </tr>

        <tr>
          <td>Attributes</td>
          <td>
          </td>
          <td>struct</td>
          <td>Attribute der Anfrage</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>Zone</td>
          <td>int</td>
          <td>UTM Zone Referenzpunkt</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>Easting</td>
          <td>float</td>
          <td>Easting, X, Ostwert Referenzpunkt</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>Northing</td>
          <td>float</td>
          <td>Northing, Y, Nordwert Referenzpunkt</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>Longitude</td>
          <td>float</td>
          <td>Längengrad Referenzpunkt (Dezimalgrad)</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>Latitude</td>
          <td>float</td>
          <td>Breitengrad Referenzpunkt (Dezimalgrad)</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>GradientAlgorithm</td>
          <td>string</td>
          <td>Algorithmus zur Berechnung der Hangneigung ('Horn' oder 'ZevenbergenThorne')</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>ColorTextFileContent</td>
          <td>[]string</td>
          <td>Inhalt der Farbtextdatei für die Kolorierung der Hangneigung</td>
        </tr>
      </table>
    </div>

    <hr>

    <h3 class="response">API-Attribute 'SlopeResponse'</h3>

    <div class="table-responsive">
      <table>
        <tr>
          <th>Attribut</th>
          <th>Subattribut</th>
          <th>Subattribut</th>
          <th>Datentyp</th>
          <th>Beschreibung</th>
        </tr>

        <tr>
          <td>Type</td>
          <td>
          </td>
          <td>
          </td>
          <td>string</td>
          <td>Typ der Antwort (SlopeResponse)</td>
        </tr>

        <tr>
          <td>ID</td>
          <td>
          </td>
          <td>
          </td>
          <td>string</td>
          <td>ID der Antwort</td>
        </tr>

        <tr>
          <td>Attributes</td>
          <td>
          </td>
          <td>
          </td>
          <td>struct</td>
          <td>Attribute der Antwort</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>Zone</td>
          <td>
          </td>
          <td>int</td>
          <td>UTM Zone des angefragten Referenzpunkts</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>Easting</td>
          <td>
          </td>
          <td>float</td>
          <td>Easting, X, Ostwert des angefragten Referenzpunkts</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>Northing</td>
          <td>
          </td>
          <td>float</td>
          <td>Northing, Y, Nordwert des angefragten Referenzpunkts</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>Longitude</td>
          <td>
          </td>
          <td>float</td>
          <td>Längengrad des angefragten Referenzpunkts (Dezimalgrad)</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>Latitude</td>
          <td>
          </td>
          <td>float</td>
          <td>Breitengrad des angefragten Referenzpunkts (Dezimalgrad)</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>GradientAlgorithm</td>
          <td>
          </td>
          <td>string</td>
          <td>Algorithmus zur Berechnung der Hangneigung</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>ColorTextFileContent</td>
          <td>
          </td>
          <td>[]string</td>
          <td>Inhalt der Farbtextdatei für die Kolorierung der Hangneigung</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>Slopes</td>
          <td>
          </td>
          <td>[]struct</td>
          <td>Array von kolorierten Hangneigungsabbildungen</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>
          </td>
          <td>Data</td>
          <td>string (Base64)</td>
          <td>Kolorierte Hangneigungsabbildung für die Kachel</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>
          </td>
          <td>DataFormat</td>
          <td>string</td>
          <td>Format der Daten (GeoTIFF oder PNG)</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>
          </td>
          <td>Actuality</td>
          <td>string</td>
          <td>Aktualität der Daten</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>
          </td>
          <td>Origin</td>
          <td>string</td>
          <td>Herkunft der Daten</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>
          </td>
          <td>Attribution</td>
          <td>string</td>
          <td>Attribution der Daten</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>
          </td>
          <td>TileIndex</td>
          <td>string</td>
          <td>Index der Quelldatenkachel</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>
          </td>
          <td>BoundingBox</td>
          <td>struct</td>
          <td>WGS84 Georeferenz (relevant bei PNG)</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>IsError</td>
          <td>
          </td>
          <td>bool</td>
          <td>Fehler (ja/nein)</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>Error</td>
          <td>
          </td>
          <td>struct</td>
          <td>Fehlerdetails</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>
          </td>
          <td>Code</td>
          <td>string</td>
          <td>Fehlernummer</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>
          </td>
          <td>Title</td>
          <td>string</td>
          <td>Fehlerbeschreibung</td>
        </tr>

        <tr>
          <td>
          </td>
          <td>
          </td>
          <td>Details</td>
          <td>string</td>
          <td>Fehlerdetaillierung</td>
        </tr>
      </table>
    </div>

    <p>Eingabe:</p>

    <ul>
      <li>Aus den Koordinaten eines Referenzpunkts wird die Kachel (1x1 km) abgeleitet, für die die Hangneigungsdaten erstellt werden.</li>

      <li>Mögliche Koordinatensysteme:</li>

      <ul>
        <li>Lon/Lat-Koordinaten (WGS84, EPSG:4326).</li>

        <li>UTM-Koordinaten (EPSG:25832 / EPSG:25833).</li>
      </ul>
    </ul>

    <p>Ausgabe:</p>

    <ul>
      <li>Abhängig vom Eingabeformat werden unterschiedliche Ausgabeformate erzeugt:</li>

      <ul>
        <li>PNG in der Projektion EPSG:3857 (Webmercator) mit expliziter Georeferenzierung durch Lon/Lat-Koordinaten (WGS84, EPSG:4326).</li>

        <li>GeoTIFF in der Projektion der DGM1-Ausgangsdaten (EPSG:25832 / EPSG:25833) mit impliziter Georeferenzierung in den Metadaten.</li>
      </ul>
    </ul>

    <p>Anmerkungen:</p>

    <ul>
      <li>Ein Kartenausschnitt wird in der Regel durch genau eine Kachel repräsentiert.</li>

      <li>Verläuft eine Landesgrenze durch eine Kachel, wird sie von allen betroffenen Bundesländer (2 oder 3) zur Verfügung gestellt.</li>

      <li>Entsprechend enthält das Feld 'Attributes.Slopes' die Daten für eine, zwei oder maximal drei Kacheln.</li>

      <li>Der Body der Antwort ist komprimiert (gzip).</li>
    </ul>

    <hr>

    <h4 class="request">SlopeRequest (Beispiel)</h4>

    <pre class="request"><code>
#!/bin/bash
#
# Abfrage der Hangneigung für eine Kachel mit 1000x1000 Meter. 

# Kachel durch UTM-Koordinaten referenziert.
postdata=$(cat &lt;&lt;EOF
{
  "Type": "SlopeRequest",
  "ID": "Hegekopf, Edersee, Hessen",
  "Attributes": {
    "Zone": 32,
    "Easting": 497500.0,
    "Northing": 5670500.0,
    "Longitude": 0.0,
    "Latitude": 0.0,
    "GradientAlgorithm": "ZevenbergenThorne",
    "ColorTextFileContent": [
      "# Winkel- und Farbschema für die Abbildung von Hangneigungen",
      "# Musterdefinition als Basis für eigene Anpassungen",
      "# Format: Wert Rot Grün Blau Alpha",
      "0 0 100 0 255",
      "5 0 200 0 255",
      "10 100 255 0 255",
      "20 200 200 0 255",
      "30 255 150 0 255",
      "40 255 100 0 255",
      "45 255 0 0 255",
      "60 150 0 0 255",
      "90 0 0 0 255",
      "nv 0 0 0 0"
    ]
  }
}
EOF
)

echo "postdata =\n$postdata"

curl \
--silent \
--include \
--compressed \
--header "Content-Type: application/json" \
--header "Accept: application/json" \
--header "Accept-Encoding: gzip" \
--data "$postdata" \
https://api.hoehendaten.de:14444/v1/slope

</code></pre>

    <hr>

    <h4 class="response">SlopeResponse:</h4>

    <pre class="response"><code>
HTTP/2 200
access-control-allow-headers: Content-Type
access-control-allow-methods: POST
access-control-allow-origin: *
content-encoding: gzip
content-type: application/json; charset=utf-8
date: Mon, 07 Jul 2025 17:31:10 GMT

{
  "Type": "SlopeResponse",
  "ID": "Hegekopf, Edersee, Hessen",
  "Attributes": {
    "Zone": 32,
    "Easting": 497500,
    "Northing": 5670500,
    "Longitude": 0,
    "Latitude": 0,
    "GradientAlgorithm": "ZevenbergenThorne",
    "ColorTextFileContent": [
      "# Winkel- und Farbschema für die Abbildung von Hangneigungen",
      "# Musterdefinition als Basis für eigene Anpassungen",
      "# Format: Wert Rot Grün Blau Alpha",
      "0 0 100 0 255",
      "5 0 200 0 255",
      "10 100 255 0 255",
      "20 200 200 0 255",
      "30 255 150 0 255",
      "40 255 100 0 255",
      "45 255 0 0 255",
      "60 150 0 0 255",
      "90 0 0 0 255",
      "nv 0 0 0 0"
    ],
    "Slopes": [
      {
        "Data": "SUkqAAgAAAAQAA ... /5YA/8jIAP8=",
        "DataFormat": "geotiff",
        "Actuality": "2021-04-26",
        "Origin": "DE-HE",
        "Attribution": "Geobasisdaten © Hessische Verwaltung für Bodenmanagement und Geoinformation, dl-de/by-2-0",
        "TileIndex": "32_497_5670",
        "BoundingBox": {
          "MinLon": 0,
          "MaxLon": 0,
          "MinLat": 0,
          "MaxLat": 0
        }
      }
    ],
    "IsError": false,
    "Error": {
      "Code": "",
      "Title": "",
      "Detail": ""
    }
  }
}

</code></pre>
  </div>

  <div class="container">
    <hr>

    <p class="copyright">© 2025 - Höhendaten für Deutschland</p>
  </div>
</body>
</html>
